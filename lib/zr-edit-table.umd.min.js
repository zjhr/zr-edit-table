(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["zr-edit-table"]=t():e["zr-edit-table"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="fb15")}({8875:function(e,t,o){var n,s,i;(function(o,r){s=[],n=r,i="function"===typeof n?n.apply(t,s):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(h){var e,t,o,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,i=n.exec(h.stack)||s.exec(h.stack),r=i&&i[1]||!1,l=i&&i[2]||!1,a=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");r===a&&(e=document.documentElement.outerHTML,t=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=e.replace(t,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===r)return c[d];if(r===a&&c[d].innerHTML&&c[d].innerHTML.trim()===o)return c[d]}return null}}return e}))},b6c7:function(e,t,o){"use strict";var n=o("d66b"),s=o.n(n);s.a},caf4:function(e,t,o){"use strict";var n=o("ccd9"),s=o.n(n);s.a},ccd9:function(e,t,o){},d66b:function(e,t,o){},fb15:function(e,t,o){"use strict";if(o.r(t),"undefined"!==typeof window){var n=window.document.currentScript,s=o("8875");n=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var i=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(o.p=i[1])}var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"zr-table g-pr z-hidden",style:e.heightStyle},[o("el-table",e._g(e._b({ref:"table",staticClass:"zr-table g-pr z-hidden",class:{"zr-table__last":e.isForm},attrs:{"row-class-name":e.tableRowClassNameFun,"header-row-class-name":e.editHeadColumn?"zr-table__header header__edit":"zr-table__header",border:"","span-method":e.spanMethodFun,data:e.data,"cell-class-name":e.cellClassNameFun},on:{"row-contextmenu":e.rowContextmenuFun,"cell-mouse-enter":e.cellMouseEnterFun,"header-click":e.headerClickFun,"row-click":e.rowClickFun,"current-change":e.currentChangeFun}},"el-table",e.$attrs,!1),e.$listeners),[e._t("left"),e.headData.length?[e._l(e.headData,(function(t){return[o("el-table-column",{key:t.prop,attrs:{prop:t.prop,width:t.width,"min-width":t.mWidth,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(n){return[t.headCheckBox?o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!n.column.headEdit,expression:"!scope.column.headEdit"}],staticClass:"z-clr-white head__checkbox",attrs:{disabled:t.headCheckBox.disabled},on:{change:function(e){t.headCheckBox.change&&t.headCheckBox.change(t.headCheckBox.checked,n)}},nativeOn:{click:function(e){return function(e){return e.stopPropagation()}(e)}},model:{value:t.headCheckBox.checked,callback:function(o){e.$set(t.headCheckBox,"checked",o)},expression:"item.headCheckBox.checked"}}):e._e(),o("span",{directives:[{name:"show",rawName:"v-show",value:!n.column.headEdit,expression:"!scope.column.headEdit"}]},[e._v(e._s(t.label))]),e.headData.length?o("el-input",{directives:[{name:"show",rawName:"v-show",value:n.column.headEdit,expression:"scope.column.headEdit"}],staticClass:"head-input_edit",attrs:{size:"medium",placeholder:"输入名称"},model:{value:t.label,callback:function(o){e.$set(t,"label",o)},expression:"item.label"}}):e._e()]}},{key:"default",fn:function(n){return[e.isEmptyObject(e.rules)?o("edit-table-element",e._g({attrs:{item:t,scope:n,notEditColKeyArr:e.notEditColKeyArr}},e.$listeners)):o("el-form-item",{attrs:{prop:"data."+n.$index+"."+t.prop,rules:e.rules[t.prop]}},[o("edit-table-element",e._g({attrs:{item:t,scope:n,notEditColKeyArr:e.notEditColKeyArr}},e.$listeners))],1)]}}],null,!0)})]}))]:e._e(),e._t("default")],2),o("div",{directives:[{name:"show",rawName:"v-show",value:e.selectBoxShow,expression:"selectBoxShow"}],staticClass:"m-pa-lt"},[o("div",{staticClass:"edit__top",style:{top:e.TLRTop-e.scrollTop+"px",width:e.wTB+"px",left:e.TBLLeft-e.scrollLeft+"px"}}),o("div",{staticClass:"edit__bottom",style:{top:e.TLRTop-e.scrollTop+e.hLR+"px",width:e.wTB+1+"px",left:e.TBLLeft-e.scrollLeft+"px"}}),o("div",{staticClass:"edit__left",style:{top:e.TLRTop-e.scrollTop+"px",height:e.hLR+"px",left:e.TBLLeft-e.scrollLeft+"px"}}),o("div",{staticClass:"edit__right",style:{top:e.TLRTop-e.scrollTop+"px",height:e.hLR+1+"px",left:e.TBLLeft+e.wTB-e.scrollLeft+"px"}})]),e.hasmenu&&e.menuArr.length||e.hasselect&&e.selectBoxShow?o("div",{directives:[{name:"show",rawName:"v-show",value:e.contextmenuShow,expression:"contextmenuShow"}],ref:"contextmenu",staticClass:"zr-contextmenu"},[e._l(e.menuArr,(function(t,n){return[!0!==t.isHide?o("div",{key:n,staticClass:"unhide-select zr-contextmenu-item",attrs:{divider:e.isEmptyObject(t)},on:{click:function(o){return t.fun(t,e.rowContextmenuData.row,e.rowContextmenuData.event)}}},[e._v(e._s(t.name))]):e._e()]}))],2):e._e()],1)},l=[],a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{"not-edit":e.cNotEdit}},[!e.cNotEdit&&e.item.edit.includes("text")?o("el-input",{attrs:{size:"medium",disabled:e.cNotEdit,placeholder:e._f("editData")(e.item.edit)},on:{change:function(t){return e.$emit("input-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}}):e.item.edit.includes("checkbox")?o("el-checkbox",{staticClass:"pd3-table__edit-checkbox",attrs:{size:"medium","true-label":Object.keys(e.item.data)[0],"false-label":Object.keys(e.item.data)[1]},on:{change:function(t){return e.$emit("checkbox-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}}):!e.cNotEdit&&e.item.edit.includes("select")?o("el-select",{attrs:{placeholder:e._f("editData")(e.item.edit),disabled:e.cNotEdit,size:"medium"},on:{change:function(t){return e.$emit("select-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}},[e._l(e.item.data,(function(e,t){return[o("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2):!e.cNotEdit&&e.item.edit.includes("number")?o("el-input-number",{attrs:{size:"medium",disabled:e.cNotEdit,"controls-position":"right",min:e.item.min||0,max:e.item.max||100},on:{change:function(t){return e.$emit("number-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}}):!e.cNotEdit&&e.item.edit.includes("date")?o("el-date-picker",{attrs:{size:"medium",type:"date",disabled:e.cNotEdit,placeholder:e._f("editData")(e.item.edit),format:e.item.format,"value-format":e.item["value-format"]},on:{change:function(t){return e.$emit("date-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}}):e.item.edit.includes("color")?o("el-color-picker",{staticStyle:{display:"inherit"},attrs:{size:"mini",disabled:e.cNotEdit},on:{change:function(t){return e.$emit("color-change",e.scope,e.item.prop)}},model:{value:e.scope.row[e.item.prop],callback:function(t){e.$set(e.scope.row,e.item.prop,t)},expression:"scope.row[item.prop]"}}):e._e(),e.item.edit.includes("color")||e.item.edit.includes("icon")||e.item.edit.includes("checkbox")?e._e():o("span",[e.item.text_left?[e._v(e._s(e._f("editText")(e.item,e.scope)))]:e._e(),e.item.text_left?e._e():[e._v(e._s(e._f("editText")(e.item,e.scope)))]],2)],1)},c=[],d={name:"edit-table-element",props:{item:Object,scope:Object,notEditColKeyArr:{type:Array,default(){return[]}}},data(){return{}},computed:{cNotEdit(){return this.notEditColKeyArr.includes(this.item.prop)}},filters:{editData(e,t=1){return e.split("|")[t]},editText(e,t){return e.data&&e.edit.includes("checkbox")?e.data[t.row[e.prop]]:e.data&&e.edit.includes("select")?e.data.find(o=>o.value===t.row[e.prop]).label:t.row[e.prop]}}},h=d;function u(e,t,o,n,s,i,r,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=a):s&&(a=l?function(){s.call(this,this.$root.$options.shadowRoot)}:s),a)if(c.functional){c._injectStyles=a;var d=c.render;c.render=function(e,t){return a.call(t),d(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,a):[a]}return{exports:e,options:c}}var m=u(h,a,c,!1,null,null,null),p=m.exports;const f=e=>!e||e instanceof Object?e:String(e).replace(/(^\s+)|(\s+$)/g,""),w=e=>!e||void 0===e||""===f(e)||"null"===f(e)||""===e||0===e.length,x=(e,t)=>{if(!w(e)&&t)if(Array.isArray(e))for(let o=0;o<e.length;o++){let n=t(e[o],o);if("undefined"!==typeof n&&(null===n||!1===n))break}else for(let o in e){let n=t(e[o],o);if("undefined"!==typeof n&&(null===n||!1===n))break}};var g={name:"zr-edit-table",inheritAttrs:!1,components:{editTableElement:p},destroyed(){this.notClickToEdit||this.notCloseEdit||document.removeEventListener("click",this.removeCurrentRowFun,!1),document.removeEventListener("click",this.removeHeadColFun,!1),document.removeEventListener("mousedown",this.removeSelectBoxFun,!1),document.removeEventListener("mouseup",this.changeMouseType,!1),window.removeEventListener("resize",this.setSelectBoxStyleFun,!1)},props:{menuArr:{type:Array,default(){return[]}},mergeArr:{type:Array,default(){return[]}},selectDirection:{type:Array,default(){return["up","down","left","right"]}},notEditColKeyArr:{type:Array,default(){return[]}},hasselect:Boolean,hasmenu:Boolean,headData:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},headEdit:{type:Boolean,default:!1},editClass:Boolean,notClickToEdit:{type:Boolean,default:!1},notCloseEdit:{type:Boolean,default:!1},rules:Object},data(){return{contextmenuShow:!1,heightStyle:{height:"100%"},time:null,headElm:null,tdElmObj:{},notRowIndexs:{},notColIndexs:{},moveType:"",rowContextmenuData:{},TLRTop:0,wTB:0,TBLLeft:0,hLR:0,selectBoxShow:!1,scrollTop:0,scrollLeft:0,headHeight:0,sRowCol:null,tRowCol:null,sTg:"",tTg:"",mouseType:"",isForm:!1,currentRow:"",editHeadColumn:!1}},computed:{cColLists(){const e=this.$slots["default"]?this.$slots["default"].map(e=>e.componentOptions.propsData.prop):[];return this.headData.map(e=>e.prop).concat(e)}},created(){this.$attrs.height?this.heightStyle={height:this.$attrs.height}:this.$attrs["max-height"]&&(this.heightStyle={"max-height":this.$attrs["max-height"]})},mounted(){this.$nextTick(()=>{this.isForm="ElForm"===this.$parent.$options.componentName,this.hasselect&&(this.setDomFun(),this.$watch("data",this.reLoadLatoutFun),this.$watch("headData",this.reLoadLatoutFun),window.addEventListener("resize",this.setSelectBoxStyleFun,!1))})},methods:{isEmptyObject(e){let t;for(t in e)if(t)return!1;return!0},tableRowClassNameFun({row:e,rowIndex:t}){const o=this.notClickToEdit?" not-click-edit":"";return this.headData.length||this.editClass?t%2&&!this.hasselect?"zr-table__line zr-table__edit"+o:"zr-table__edit"+o:t%2&&!this.hasselect?"zr-table__line"+o:""+o},cellClassNameFun({row:e,column:t,rowIndex:o,columnIndex:n}){return"col-"+n},reLoadLatoutFun(){this.notRowIndexs={},this.notColIndexs={},this.$nextTick(()=>{this.setDomFun()})},getStgTtgFun(){const{row:e,col:t}=this.sTg.dataset;return{sRowIndex:~~e,sColIndex:~~t,tRowIndex:this.tRowCol[0],tColIndex:this.tRowCol[1]}},removeCurrentRowFun(e){return e.preventDefault(),new Promise(e=>{this.isForm&&!this.isEmptyObject(this.rules)?this.$parent.validate(t=>{e(t),t&&(this.notRowIndexs={},this.notColIndexs={},this.$refs.table.setCurrentRow(void 0),document.removeEventListener("click",this.removeCurrentRowFun,!1))}):(e(!0),this.notRowIndexs={},this.notColIndexs={},this.$refs.table.setCurrentRow(void 0),document.removeEventListener("click",this.removeCurrentRowFun,!1))})},removeHeadColFun(e){this.editHeadColumn&&(this.editHeadColumn.headEdit=!1,this.editHeadColumn=!1,this.$nextTick(()=>{this.headHeight=this.headElm.scrollHeight}),document.removeEventListener("click",this.removeHeadColFun,!1))},removeSelectBoxFun(e){if(e){let t=e.target;while(t&&t!==this.$refs.table.$el){if(void 0!==t.className&&t.className.includes&&t.className.includes("unhide-select"))return void(t=null);t=t.parentElement}t||this.clearSelectBoxFun()}this.$refs.contextmenu&&(this.contextmenuShow=!1),document.removeEventListener("mousedown",this.removeSelectBoxFun,!1)},clearSelectBoxFun(){this.selectBoxShow=!1,this.sTg=null,this.tTg=null,this.sRowCol=null,this.tRowCol=null},changeMouseType(e){this.mouseType=e.type,document.addEventListener("mousedown",this.removeSelectBoxFun,!1),document.removeEventListener("mouseup",this.changeMouseType,!1)},bodyWrapperFun(e){clearTimeout(this.time),this.time=setTimeout(()=>{this.scrollTop=e.target.scrollTop,this.scrollLeft=e.target.scrollLeft,this.$refs.contextmenu&&(this.contextmenuShow=!1)},10)},setDomFun(){const e=this.$refs.table.$el,t=Array.from(e.children);x(t,e=>{e.className.includes("el-table__header-wrapper")?(this.headElm=e,this.headHeight=e.scrollHeight):e.className.includes("el-table__body-wrapper")&&(e.removeEventListener("scroll",this.bodyWrapperFun),e.addEventListener("scroll",this.bodyWrapperFun,!1),x(Array.from(e.querySelectorAll("tr")),(e,t)=>{x(Array.from(e.childNodes),(e,o)=>{e.dataset.row=t,e.dataset.col=e.className.match(/col\-?\d$/g)[0].split("-")[1],this.tdElmObj[t+"-"+e.dataset.col]={rowIndex:t,colIndex:e.dataset.col,target:e}})}))}),e.addEventListener("mousedown",this.selectDownFun,!1)},spanMethodFun({row:e,column:t,rowIndex:o,columnIndex:n}){const s={rowspan:1,colspan:1};if(this.mergeArr.length){const e=this.notRowIndexs[o+""+n],t=this.notColIndexs[n+""+o];if(e&&e<=o||t&&t===n)return s.rowspan=0,s.colspan=0,s;x(this.mergeArr,e=>{const t=this.data.findIndex(t=>t.id===e.rowId),i=this.cColLists.findIndex(t=>t===e.colKey);if(e.rowIndex=t,e.colIndex=i,o===t&&i===n){s.rowspan=e.rowspan,s.colspan=e.colspan;const r=e.rowspan+t,l=e.colspan+i,a=[],c=[];for(let e=r;e--;)e>t&&(this.notRowIndexs[e+""+n]=e,a.push(e));for(let e=l;e--;)e>=i&&(this.notColIndexs[e+""+o]=e,c.push(e));return x(a,(e,t)=>{x(c,t=>{this.notColIndexs[t+""+e]=t})}),!1}})}return s},mergeFun(e=!0){if(this.selectBoxShow){const{sRowIndex:t,sColIndex:o,tRowIndex:n,tColIndex:s}=this.getStgTtgFun(),i=this.includeCellsFun(this.mergeArr,t,o,n,s),r=i.map(e=>e.rowId+"-"+e.colKey);for(let e=0;e<this.mergeArr.length;){const t=this.mergeArr[e].rowId+"-"+this.mergeArr[e].colKey;console.log("str::",t),r.includes(t)?this.mergeArr.splice(e,1):e++}e&&this.mergeArr.push({rowId:this.data[t].id,colKey:this.cColLists[o],rowspan:Math.max(t,n)-Math.min(t,n)+1,colspan:Math.max(o,s)-Math.min(o,s)+1}),this.tdElmObj={},this.selectBoxShow=!1,this.reLoadLatoutFun(),this.$refs.contextmenu&&(this.contextmenuShow=!1)}},rowContextmenuFun(e,t,o){o.stopPropagation(),o.preventDefault(),this.hasmenu&&this.$refs.contextmenu&&(this.contextmenuShow=!0,this.rowContextmenuData.row=e,this.rowContextmenuData.event=o,this.$nextTick(()=>{const e=this.$refs.contextmenu,{offsetHeight:t}=e;e.style.left=o.clientX+"px",o.clientY+t>window.innerHeight?e.style.top=o.clientY-t+"px":e.style.top=o.clientY+"px"}),document.addEventListener("mousedown",this.removeSelectBoxFun,!1)),this.$emit("row-contextmenu",e,o)},setSelectBoxStyleFun(){if(this.headHeight=this.headElm.scrollHeight,this.sTg){const{offsetTop:e,offsetLeft:t,offsetHeight:o,offsetWidth:n}=this.sTg;if(this.TLRTop=e+this.headHeight,this.wTB=n,this.TBLLeft=t,this.hLR=o,this.tTg){const{offsetTop:s,offsetLeft:i,offsetHeight:r,offsetWidth:l}=this.tTg,a=Math.max(n,l),c=Math.max(o,r);this.wTB=a,this.hLR=c,i>t&&this.selectDirection.includes("right")&&(this.wTB=i-t+l),i<t&&this.selectDirection.includes("left")&&(this.TBLLeft=i,this.wTB=t-i+l),s>e&&this.selectDirection.includes("down")&&(this.hLR=s-e+r),s<e&&this.selectDirection.includes("up")&&(this.TLRTop=s+this.headHeight,this.hLR=e-s+r)}}},selectDownFun(e){if(console.dir(e),1===e.which){e.stopPropagation(),this.changeMouseType(e),this.tTg=null;let t=e.target;while(t&&"TD"!==t.tagName)t=t.offsetParent;if(console.dir(t),this.sTg=t,this.tTg=t,this.sRowCol=null,t){const{row:e,col:o}=t.dataset;this.sRowCol=[e,o],this.selectBoxShow=!0,this.setSelectBoxStyleFun()}else this.selectBoxShow=!1;document.addEventListener("mouseup",this.changeMouseType,!1),this.$refs.contextmenu&&(this.contextmenuShow=!1)}},includeCellsFun(e=this.mergeArr,t,o,n,s){const i=Math.max(o,s),r=Math.min(o,s),l=Math.max(t,n),a=Math.min(t,n);return e.filter(e=>{const t=e.rowspan>1?[e.rowIndex,e.rowIndex+e.rowspan-1]:[e.rowIndex,e.rowIndex],o=e.colspan>1?[e.colIndex,e.colIndex+e.colspan-1]:[e.colIndex,e.colIndex],n=Math.max(a,t[0])<=Math.min(l,t[1]),s=Math.max(r,o[0])<=Math.min(i,o[1]);return n&&s})},cellMouseEnterFun(e,t,o,n){if(this.sTg&&"mousedown"===this.mouseType){const{offsetTop:e,offsetLeft:t}=this.sTg,{offsetTop:s,offsetLeft:i}=o;if(s>e&&(this.moveType="down"),s<e&&(this.moveType="up"),i>t&&(this.moveType="right"),i<t&&(this.moveType="left"),this.selectDirection.includes(this.moveType)){this.tTg=o;let e=this.sRowCol[0],t=this.sRowCol[1],s=n.target.dataset.row,i=n.target.dataset.col,r=0,l=[];const a=()=>{const o=(o,n)=>{const r=Math.min(...o),l=Math.max(...o),a=Math.min(...n),c=Math.max(...n);e=r,t=a,s=l,i=c};if(l=this.includeCellsFun(this.mergeArr,e,t,s,i),l.length)x(l,(n,r)=>{const l=n.rowspan>1?n.rowIndex+n.rowspan-1:n.rowIndex,a=n.colspan>1?n.colIndex+n.colspan-1:n.colIndex,c=[n.rowIndex,l,e,s],d=[n.colIndex,a,t,i];o(c,d)}),r!==l.length&&(r=l.length,a());else{const n=[e,s],r=[t,i];o(n,r)}};a();const c=this.tdElmObj[e+"-"+t],d=this.tdElmObj[s+"-"+i];this.tRowCol=[s,i],c&&(this.sTg=c.target),d?this.tTg=d.target:l.length&&x(l,e=>{const t=e.rowspan>1?e.rowIndex+e.rowspan-1:e.rowIndex,o=e.colspan>1?e.colIndex+e.colspan-1:e.colIndex,n=this.includeCellsFun(l,t,o,s,i);if(n.length){const e=n[n.length-1].rowIndex,t=n[n.length-1].colIndex;return this.tTg=this.tdElmObj[e+"-"+t].target,!1}}),this.setSelectBoxStyleFun()}}this.$emit("cell-mouse-enter",e,t,o,n)},async headerClickFun(e,t){if(t.stopPropagation(),this.headEdit&&void 0!==t.target.className&&!t.target.className.includes("head__checkbox")){const o=await this.removeCurrentRowFun(t);o&&(this.removeHeadColFun(),this.$nextTick(()=>{console.log(e,t),e.headEdit=!0,this.editHeadColumn=e,document.addEventListener("click",this.removeHeadColFun)}))}},rowClickFun(e,t,o){o.stopPropagation(),this.editHeadColumn&&this.removeHeadColFun(),this.notRowIndexs={},this.notColIndexs={},this.isForm&&!this.isEmptyObject(this.rules)?this.$parent.validate(n=>{n?(this.currentRow=e,this.$emit("row-click",e,o,t),this.notClickToEdit||this.notCloseEdit||document.addEventListener("click",this.removeCurrentRowFun,!1)):this.$refs.table.setCurrentRow(this.currentRow)}):(this.$emit("row-click",e,o,t),this.notClickToEdit||this.notCloseEdit||document.addEventListener("click",this.removeCurrentRowFun,!1))},currentChangeFun(e,t){this.$nextTick(()=>{this.hasselect&&this.setSelectBoxStyleFun()}),this.$emit("current-change",e,t)}}},v=g,b=(o("b6c7"),o("caf4"),u(v,r,l,!1,null,"73d2b742",null)),y=b.exports;y.install=function(e){e.component(y.name,y)};var C=y;const T=[C],_=function(e){_.installed||T.map(t=>e.component(t.name,t))};"undefined"!==typeof window&&window.Vue&&_(window.Vue);var E={install:_,zrEditTable:C};t["default"]=E}})}));
//# sourceMappingURL=zr-edit-table.umd.min.js.map